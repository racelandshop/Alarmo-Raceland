{"code":"import { __decorate } from \"tslib\";\r\nimport { LitElement, html, css } from 'lit';\r\nimport { property, customElement, state } from 'lit/decorators.js';\r\nimport { mdiClose } from '@mdi/js';\r\nimport { localize } from '../../localize/localize';\r\nimport { fetchConfig, saveConfig } from '../data/websockets';\r\nlet EditMasterDialog = class EditMasterDialog extends LitElement {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.name = '';\r\n    }\r\n    async showDialog(params) {\r\n        this._params = params;\r\n        const config = await fetchConfig(this.hass);\r\n        this.name = config.master['name'] || '';\r\n        await this.updateComplete;\r\n    }\r\n    async closeDialog() {\r\n        this._params = undefined;\r\n    }\r\n    render() {\r\n        if (!this._params)\r\n            return html ``;\r\n        return html `\r\n      <ha-dialog open .heading=${true} @closed=${this.closeDialog} @close-dialog=${this.closeDialog}>\r\n        <div slot=\"heading\">\r\n          <ha-header-bar>\r\n            <ha-icon-button slot=\"navigationIcon\" dialogAction=\"cancel\" .path=${mdiClose}></ha-icon-button>\r\n            <span slot=\"title\">${localize('panels.general.dialogs.edit_master.title', this.hass.language)}</span>\r\n          </ha-header-bar>\r\n        </div>\r\n        <div class=\"wrapper\">\r\n          <ha-textfield\r\n            label=${this.hass.localize('ui.components.area-picker.add_dialog.name')}\r\n            @input=${(ev) => (this.name = ev.target.value)}\r\n            value=\"${this.name}\"\r\n          ></ha-textfield>\r\n          <span class=\"note\">${localize('panels.general.dialogs.edit_area.name_warning', this.hass.language)}</span>\r\n        </div>\r\n        <mwc-button slot=\"primaryAction\" @click=${this.saveClick}>\r\n          ${this.hass.localize('ui.common.save')}\r\n        </mwc-button>\r\n        <mwc-button slot=\"secondaryAction\" @click=${this.closeDialog}>\r\n          ${this.hass.localize('ui.common.cancel')}\r\n        </mwc-button>\r\n      </ha-dialog>\r\n    `;\r\n    }\r\n    saveClick() {\r\n        const name = this.name.trim();\r\n        if (!name.length)\r\n            return;\r\n        saveConfig(this.hass, {\r\n            master: {\r\n                enabled: true,\r\n                name: name,\r\n            },\r\n        })\r\n            .catch()\r\n            .then(() => {\r\n            this.closeDialog();\r\n        });\r\n    }\r\n    static get styles() {\r\n        return css `\r\n      div.wrapper {\r\n        color: var(--primary-text-color);\r\n      }\r\n      span.note {\r\n        color: var(--secondary-text-color);\r\n      }\r\n      ha-textfield {\r\n        display: block;\r\n      }\r\n    `;\r\n    }\r\n};\r\n__decorate([\r\n    property({ attribute: false })\r\n], EditMasterDialog.prototype, \"hass\", void 0);\r\n__decorate([\r\n    state()\r\n], EditMasterDialog.prototype, \"_params\", void 0);\r\n__decorate([\r\n    property()\r\n], EditMasterDialog.prototype, \"name\", void 0);\r\nEditMasterDialog = __decorate([\r\n    customElement('edit-master-dialog')\r\n], EditMasterDialog);\r\nexport { EditMasterDialog };\r\n","references":["/workspaces/RacelandHA/config/custom_components/alarmo/frontend/node_modules/lit/index.d.ts","/workspaces/RacelandHA/config/custom_components/alarmo/frontend/node_modules/lit/decorators.d.ts","/workspaces/RacelandHA/config/custom_components/alarmo/frontend/node_modules/custom-card-helpers/dist/index.d.ts","/workspaces/RacelandHA/config/custom_components/alarmo/frontend/node_modules/@mdi/js/mdi.d.ts","/workspaces/RacelandHA/config/custom_components/alarmo/frontend/localize/localize.ts","/workspaces/RacelandHA/config/custom_components/alarmo/frontend/src/data/websockets.ts"]}
